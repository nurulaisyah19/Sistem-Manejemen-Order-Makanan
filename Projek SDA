import csv

class Pesanan:
    def _init_(self, id, nama_pelanggan, item, total_harga):
        self.id = id
        self.nama_pelanggan = nama_pelanggan
        self.item = item
        self.total_harga = total_harga

    def _str_(self):
        return f"ID: {self.id}, Nama Pelanggan: {self.nama_pelanggan}, Item: {', '.join(self.item)}, Total Harga: {self.total_harga}"


class SistemManajemenPesananMakanan:
    def _init_(self):
        self.pesanan = []

    def tambah_pesanan(self, pesanan):
        self.pesanan.append(pesanan)
        print("Pesanan berhasil ditambahkan.")

    def lihat_pesanan(self):
        print("\nDaftar Pesanan:")
        for pesanan in self.pesanan:
            print(pesanan)

    def perbarui_pesanan(self, id_pesanan, nama_pelanggan_baru, item_baru, total_harga_baru):
        for pesanan in self.pesanan:
            if pesanan.id == id_pesanan:
                pesanan.nama_pelanggan = nama_pelanggan_baru
                pesanan.item = item_baru
                pesanan.total_harga = total_harga_baru
                print("Pesanan berhasil diperbarui.")
                return True
        print("Pesanan tidak ditemukan.")
        return False

def hapus_pesanan(self, id_pesanan):
        for pesanan in self.pesanan:
            if pesanan.id == id_pesanan:
                self.pesanan.remove(pesanan)
                print("Pesanan berhasil dihapus.")
                return True
        print("Pesanan tidak ditemukan.")
        return False

    def cari_pesanan(self, kueri):
        hasil = [pesanan for pesanan in self.pesanan if kueri.lower() in pesanan.nama_pelanggan.lower()]
        print(f"Hasil pencarian untuk '{kueri}':")
        if hasil:
            for pesanan in hasil:
                print(pesanan)
        else:
            print("Tidak ada pesanan yang ditemukan.")
        return hasil

    def urutkan_pesanan_berdasarkan_nama_pelanggan(self):
        self.pesanan.sort(key=lambda x: x.nama_pelanggan)
        print("Pesanan diurutkan berdasarkan nama pelanggan.")

    def impor_pesanan_dari_csv(self, nama_file):
        try:
            with open(nama_file, 'r') as file:
                reader = csv.reader(file)
                next(reader)  # Lewati baris header
                for row in reader:
                    id, nama_pelanggan, item, total_harga = row
                    item_list = item.split(';')
                    self.tambah_pesanan(Pesanan(id, nama_pelanggan, item_list, float(total_harga)))
            print("Pesanan diimpor dari CSV.")
        except FileNotFoundError:
            print("File tidak ditemukan.")


def main():
    sistem = SistemManajemenPesananMakanan()
